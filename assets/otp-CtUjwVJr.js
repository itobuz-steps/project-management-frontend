import"./main-DiITyB4b.js";import"./main-uUo-qxe4.js";import{s as d,b as t,a as s}from"./setTheme-CqVq1cr2.js";const m=document.getElementById("otp-input"),a=document.querySelector(".verify-form");d(localStorage.getItem("theme")||"indigo");async function u(e){e.preventDefault();const i=m.value,r=localStorage.getItem("pendingEmail");if(!r){t("Email not found. Please try registering again.","info"),window.location.href="signup.html";return}const n=document.querySelector(".verify-button"),l=n.textContent;n.textContent="Verifying...",n.disabled=!0;try{await s.verify(r,i),localStorage.removeItem("pendingEmail"),t("OTP verified successfully! Redirecting...","success"),setTimeout(()=>{window.location.href="signup.html"},1e3)}catch(c){t(c.message||"OTP verification failed. Please try again.","error")}finally{n.textContent=l,n.disabled=!1}}async function f(){const e=localStorage.getItem("pendingEmail");if(!e){t("Email not found. Please try registering again.","info"),window.location.href="signup.html";return}try{await s.sendOtp(e),t("OTP has been resent to your email.")}catch(i){t(i.message||"Failed to resend OTP. Please try again.","error")}finally{o.style.pointerEvents="auto"}}a&&a.addEventListener("submit",u);const o=document.querySelector(".resend");o&&o.addEventListener("click",e=>{e.preventDefault(),f()});
