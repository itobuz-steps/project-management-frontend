import"./main-CSz5o1e7.js";import{s as h,a as p,b as s}from"./setTheme-Bi1bB5K9.js";const r=document.querySelector(".sign-up"),l=document.querySelector(".login"),d=document.querySelector(".signup-form-container"),u=document.querySelector(".login-form-container"),y=document.getElementById("username"),L=document.getElementById("email"),S=document.getElementById("password"),t=document.querySelector(".signup-button"),m=document.querySelector(".signup-form");u.classList.remove("hidden");d.classList.add("hidden");f();h(localStorage.getItem("theme")||"indigo");function f(){l.classList.add("active"),r.classList.remove("active")}function w(){l.classList.remove("active"),r.classList.add("active")}function b(){d.classList.remove("hidden"),u.classList.add("hidden"),w()}function T(){u.classList.remove("hidden"),d.classList.add("hidden"),f()}r.addEventListener("click",b);l.addEventListener("click",T);async function E(i){i.preventDefault();const e=y.value.trim(),o=L.value.trim(),a=S.value,c=t.textContent;t.textContent="Signing up...",t.disabled=!0;try{await p.signup(e,o,a),localStorage.setItem("pendingEmail",o),localStorage.setItem("username",e),s("Registration successful! Please check your email for OTP.","success"),setTimeout(()=>{window.location.href="verifyOtpPage.html"},1e3)}catch(v){s(v.message,"error")}finally{t.textContent=c,t.disabled=!1}}m&&m.addEventListener("submit",E);const g=document.querySelector(".login-form"),I=document.getElementById("email-input"),q=document.getElementById("password-input"),n=document.querySelector(".login-button");async function x(i){i.preventDefault();const e=I.value.trim(),o=q.value,a=n.textContent;n.textContent="Signing in...",n.disabled=!0;try{await p.login(e,o),localStorage.setItem("userEmail",e),s("Login successful","success"),setTimeout(()=>{window.location.href="dashboard"},2e3)}catch(c){s(c.response?.data?.message||"Login failed. Please check your credentials.","error")}finally{n.textContent=a,n.disabled=!1}}g&&g.addEventListener("submit",x);
